{"version":3,"sources":["../../src/jquery.flot.events.js"],"names":["define","$","_","angular","Drop","createAnnotationToolip","element","event","injector","document","content","createElement","innerHTML","invoke","$compile","$rootScope","tmpScope","$new","$digest","$destroy","drop","target","position","classes","openOn","hoverCloseDelay","tetherOptions","constraints","to","pin","attachment","open","on","setTimeout","destroy","DrawableEvent","object","drawFunc","clearFunc","moveFunc","left","top","width","height","_object","_drawFunc","_clearFunc","_moveFunc","_position","_width","_height","draw","clear","getObject","moveTo","VisualEvent","options","drawableEvent","_parent","_options","_drawableEvent","_hidden","visual","getOptions","getParent","isHidden","hide","unhide","EventMarkers","plot","_events","_types","_plot","eventsEnabled","getEvents","setTypes","types","setupEvents","events","that","each","index","ve","_buildDiv","push","sort","a","b","ao","bo","min","drawEvents","_insidePlot","updateEvents","o","getPlotOffset","xaxis","getXAxes","p2c","_clearEvents","val","container","getPlaceholder","axes","getAxes","yaxis","color","markerSize","markerShow","lineStyle","lineWidth","markerTooltip","used","yaxis2","eventTypeId","eventType","undefined","toLowerCase","line","css","appendTo","marker","Math","round","toUpperCase","data","mouseenter","mouseleave","clearSelection","hover","obj","show","remove","x","xc","max","init","eventMarkers","hideEvents","showEvents","setEvents","hooks","processOptions","length","defaultOptions","plugins","name","version"],"mappings":"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","file":"jquery.js","sourcesContent":["define([\n  'jquery',\n  'lodash',\n  'angular',\n  'tether-drop',\n],\nfunction ($, _, angular, Drop) {\n  'use strict';\n\n  function createAnnotationToolip(element, event) {\n    var injector = angular.element(document).injector();\n    var content = document.createElement('div');\n    content.innerHTML = '<annotation-tooltip event=\"event\"></annotation-tooltip>';\n\n    injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\n      var tmpScope = $rootScope.$new(true);\n      tmpScope.event = event;\n\n      $compile(content)(tmpScope);\n      tmpScope.$digest();\n      tmpScope.$destroy();\n\n      var drop = new Drop({\n        target: element[0],\n        content: content,\n        position: \"bottom center\",\n        classes: 'drop-popover drop-popover--annotation',\n        openOn: 'hover',\n        hoverCloseDelay: 200,\n        tetherOptions: {\n          constraints: [{to: 'window', pin: true, attachment: \"both\"}]\n        }\n      });\n\n      drop.open();\n\n      drop.on('close', function() {\n        setTimeout(function() {\n          drop.destroy();\n        });\n      });\n    }]);\n  }\n\n  /*\n   * jquery.flot.events\n   *\n   * description: Flot plugin for adding events/markers to the plot\n   * version: 0.2.5\n   * authors:\n   *    Alexander Wunschik <alex@wunschik.net>\n   *    Joel Oughton <joeloughton@gmail.com>\n   *    Nicolas Joseph <www.nicolasjoseph.com>\n   *\n   * website: https://github.com/mojoaxel/flot-events\n   *\n   * released under MIT License and GPLv2+\n   */\n\n  /**\n   * A class that allows for the drawing an remove of some object\n   */\n  var DrawableEvent = function(object, drawFunc, clearFunc, moveFunc, left, top, width, height) {\n    var _object = object;\n    var\t_drawFunc = drawFunc;\n    var\t_clearFunc = clearFunc;\n    var\t_moveFunc = moveFunc;\n    var\t_position = { left: left, top: top };\n    var\t_width = width;\n    var\t_height = height;\n\n    this.width = function() { return _width; };\n    this.height = function() { return _height; };\n    this.position = function() { return _position; };\n    this.draw = function() { _drawFunc(_object); };\n    this.clear = function() { _clearFunc(_object); };\n    this.getObject = function() { return _object; };\n    this.moveTo = function(position) {\n      _position = position;\n      _moveFunc(_object, _position);\n    };\n  };\n\n  /**\n   * Event class that stores options (eventType, min, max, title, description) and the object to draw.\n   */\n  var VisualEvent = function(options, drawableEvent) {\n    var _parent;\n    var _options = options;\n    var _drawableEvent = drawableEvent;\n    var _hidden = false;\n\n    this.visual = function() { return _drawableEvent; };\n    this.getOptions = function() { return _options; };\n    this.getParent = function() { return _parent; };\n    this.isHidden = function() { return _hidden; };\n    this.hide = function() { _hidden = true; };\n    this.unhide = function() { _hidden = false; };\n  };\n\n  /**\n   * A Class that handles the event-markers inside the given plot\n   */\n  var EventMarkers = function(plot) {\n    var _events = [];\n\n    this._types = [];\n    this._plot = plot;\n    this.eventsEnabled = false;\n\n    this.getEvents = function() {\n      return _events;\n    };\n\n    this.setTypes = function(types) {\n      return this._types = types;\n    };\n\n    /**\n     * create internal objects for the given events\n     */\n    this.setupEvents = function(events) {\n      var that = this;\n      $.each(events, function(index, event) {\n        var ve = new VisualEvent(event, that._buildDiv(event));\n        _events.push(ve);\n      });\n\n      _events.sort(function(a, b) {\n        var ao = a.getOptions(), bo = b.getOptions();\n        if (ao.min > bo.min) { return 1; }\n        if (ao.min < bo.min) { return -1; }\n        return 0;\n      });\n    };\n\n    /**\n     * draw the events to the plot\n     */\n    this.drawEvents = function() {\n      var that = this;\n      // var o = this._plot.getPlotOffset();\n\n      $.each(_events, function(index, event) {\n        // check event is inside the graph range\n        if (that._insidePlot(event.getOptions().min) && !event.isHidden()) {\n          event.visual().draw();\n        }  else {\n          event.visual().getObject().hide();\n        }\n      });\n    };\n\n    /**\n     * update the position of the event-markers (e.g. after scrolling or zooming)\n     */\n    this.updateEvents = function() {\n      var that = this;\n      var o = this._plot.getPlotOffset(), left, top;\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n\n      $.each(_events, function(index, event) {\n        top = o.top + that._plot.height() - event.visual().height();\n        left = xaxis.p2c(event.getOptions().min) + o.left - event.visual().width() / 2;\n        event.visual().moveTo({ top: top, left: left });\n      });\n    };\n\n    /**\n     * remove all events from the plot\n     */\n    this._clearEvents = function() {\n      $.each(_events, function(index, val) {\n        val.visual().clear();\n      });\n      _events = [];\n    };\n\n    /**\n     * create a DOM element for the given event\n     */\n    this._buildDiv = function(event) {\n      var that = this;\n\n      var container = this._plot.getPlaceholder();\n      var o = this._plot.getPlotOffset();\n      var axes = this._plot.getAxes();\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var yaxis, top, left, color, markerSize, markerShow, lineStyle, lineWidth;\n      var markerTooltip;\n\n      // determine the y axis used\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\n\n      // map the eventType to a types object\n      var eventTypeId = event.eventType;\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\n        color = '#666';\n      } else {\n        color = this._types[eventTypeId].color;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].markerSize) {\n        markerSize = 8; //default marker size\n      } else {\n        markerSize = this._types[eventTypeId].markerSize;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerShow === undefined) {\n        markerShow = true;\n      } else {\n        markerShow = this._types[eventTypeId].markerShow;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\n        markerTooltip = true;\n      } else {\n        markerTooltip = this._types[eventTypeId].markerTooltip;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\n        lineStyle = 'dashed'; //default line style\n      } else {\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\n        lineWidth = 1; //default line width\n      } else {\n        lineWidth = this._types[eventTypeId].lineWidth;\n      }\n\n      top = o.top + this._plot.height();\n      left = xaxis.p2c(event.min) + o.left;\n\n      var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\n        \"position\": \"absolute\",\n        \"opacity\": 0.8,\n        \"left\": left + 'px',\n        \"top\": 8,\n        \"width\": lineWidth + \"px\",\n        \"height\": this._plot.height(),\n        \"border-left-width\": lineWidth + \"px\",\n        \"border-left-style\": lineStyle,\n        \"border-left-color\": color\n      })\n      .appendTo(container);\n\n      if (markerShow) {\n        var marker = $('<div class=\"events_marker\"></div>').css({\n          \"position\": \"absolute\",\n          \"left\": (-markerSize-Math.round(lineWidth/2)) + \"px\",\n          \"font-size\": 0,\n          \"line-height\": 0,\n          \"width\": 0,\n          \"height\": 0,\n          \"border-left\": markerSize+\"px solid transparent\",\n          \"border-right\": markerSize+\"px solid transparent\"\n        })\n        .appendTo(line);\n\n        if (this._types[eventTypeId] && this._types[eventTypeId].position && this._types[eventTypeId].position.toUpperCase() === 'BOTTOM') {\n          marker.css({\n            \"top\": top-markerSize-8 +\"px\",\n            \"border-top\": \"none\",\n            \"border-bottom\": markerSize+\"px solid \" + color\n          });\n        } else {\n          marker.css({\n            \"top\": \"0px\",\n            \"border-top\": markerSize+\"px solid \" + color,\n            \"border-bottom\": \"none\"\n          });\n        }\n\n        marker.data({\n          \"event\": event\n        });\n\n        var mouseenter = function() {\n          createAnnotationToolip(marker, $(this).data(\"event\"));\n        };\n\n        var mouseleave = function() {\n          that._plot.clearSelection();\n        };\n\n        if (markerTooltip) {\n          marker.css({ \"cursor\": \"help\" });\n          marker.hover(mouseenter, mouseleave);\n        }\n      }\n\n      var drawableEvent = new DrawableEvent(\n        line,\n        function drawFunc(obj) { obj.show(); },\n        function(obj) { obj.remove(); },\n        function(obj, position) {\n          obj.css({\n            top: position.top,\n            left: position.left\n          });\n        },\n        left,\n        top,\n        line.width(),\n        line.height()\n      );\n\n      return drawableEvent;\n    };\n\n    /**\n     * check if the event is inside visible range\n     */\n    this._insidePlot = function(x) {\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var xc = xaxis.p2c(x);\n      return xc > 0 && xc < xaxis.p2c(xaxis.max);\n    };\n  };\n\n  /**\n   * initialize the plugin for the given plot\n   */\n  function init(plot) {\n    /*jshint validthis:true */\n    var that = this;\n    var eventMarkers = new EventMarkers(plot);\n\n    plot.getEvents = function() {\n      return eventMarkers._events;\n    };\n\n    plot.hideEvents = function() {\n      $.each(eventMarkers._events, function(index, event) {\n        event.visual().getObject().hide();\n      });\n    };\n\n    plot.showEvents = function() {\n      plot.hideEvents();\n      $.each(eventMarkers._events, function(index, event) {\n        event.hide();\n      });\n\n      that.eventMarkers.drawEvents();\n    };\n\n    // change events on an existing plot\n    plot.setEvents = function(events) {\n      if (eventMarkers.eventsEnabled) {\n        eventMarkers.setupEvents(events);\n      }\n    };\n\n    plot.hooks.processOptions.push(function(plot, options) {\n      // enable the plugin\n      if (options.events.data != null) {\n        eventMarkers.eventsEnabled = true;\n      }\n    });\n\n    plot.hooks.draw.push(function(plot) {\n      var options = plot.getOptions();\n\n      if (eventMarkers.eventsEnabled) {\n        // check for first run\n        if (eventMarkers.getEvents().length < 1) {\n          eventMarkers.setTypes(options.events.types);\n          eventMarkers.setupEvents(options.events.data);\n        } else {\n          eventMarkers.updateEvents();\n        }\n      }\n\n      eventMarkers.drawEvents();\n    });\n  }\n\n  var defaultOptions = {\n    events: {\n      data: null,\n      types: null,\n      xaxis: 1,\n      position: 'BOTTOM'\n    }\n  };\n\n  $.plot.plugins.push({\n    init: init,\n    options: defaultOptions,\n    name: \"events\",\n    version: \"0.2.5\"\n  });\n\n});\n"]}